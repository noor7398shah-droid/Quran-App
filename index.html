<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Al Musalimeen | Your Deen Companion</title>

<script src="https://unpkg.com/lucide@latest"></script>
<link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Plus+Jakarta+Sans:wght@300;400;600;800&display=swap" rel="stylesheet">

<style>
:root {
--primary:#facc15;
--bg-dark:#062216;
--card-green:#113d2c;
--text-main:#fff;
--text-dim:rgba(255,255,255,0.7);
}

*{margin:0;padding:0;box-sizing:border-box;font-family:'Plus Jakarta Sans',sans-serif;}

body{background:var(--bg-dark);color:var(--text-main);overflow-x:hidden;}

.amiri{font-family:'Amiri',serif;}

nav{
padding:1rem 8%;
display:flex;
justify-content:space-between;
align-items:center;
position:sticky;top:0;
background:rgba(6,34,22,.95);
}

.logo{font-size:1.3rem;font-weight:800;color:var(--primary);display:flex;gap:10px;}

.hero{display:flex;flex-direction:column;align-items:center;padding:50px 8% 20px;text-align:center;}

.download-btn{
background:var(--primary);
color:#000;
padding:16px 40px;
border-radius:50px;
text-decoration:none;
font-weight:800;
display:inline-flex;
gap:12px;
margin-top:25px;
}

.live-count{
margin-top:12px;
font-weight:600;
color:var(--primary);
}

.slider-container{width:100%;overflow:hidden;padding:40px 0;}
.slider-track{display:flex;width:max-content;animation:scroll 25s linear infinite;gap:25px;}
.slider-track img{width:230px;border-radius:24px;border:5px solid var(--card-green);}

@keyframes scroll{
0%{transform:translateX(0);}
100%{transform:translateX(-50%);}
}

.features{display:grid;grid-template-columns:repeat(2,1fr);gap:15px;padding:20px 8%;max-width:600px;margin:0 auto;}

.feature-item{background:var(--card-green);padding:25px 15px;border-radius:20px;text-align:center;}

.ayah-card{
background:linear-gradient(135deg,var(--card-green),#041a11);
margin:30px 8% 60px;
padding:40px 25px;
border-radius:30px;
border-left:5px solid var(--primary);
text-align:center;
}

footer{
padding:40px;
background:#03140d;
color:var(--text-dim);
text-align:center;
}

/* COMMENTS */
.comment{
background:#113d2c;
padding:12px;
margin:8px auto;
max-width:500px;
border-radius:12px;
text-align:left;
animation:fadeIn .4s ease;
position:relative;
}

.comment strong{color:var(--primary);}

.delete-btn{
position:absolute;
right:10px;
top:10px;
background:red;
color:#fff;
font-size:11px;
padding:3px 6px;
border-radius:4px;
cursor:pointer;
display:none;
}

@keyframes fadeIn{
from{opacity:0;transform:translateY(8px);}
to{opacity:1;transform:translateY(0);}
}

#adminPanel{
display:none;
position:fixed;
top:50%;
left:50%;
transform:translate(-50%,-50%);
background:#113d2c;
padding:30px;
border-radius:20px;
z-index:999;
text-align:center;
}
</style>
</head>

<body>

<nav>
<div class="logo"><i data-lucide="moon-star"></i> Al Musalimeen</div>
<div style="font-size:.65rem;color:var(--primary);border:1px solid var(--primary);padding:4px 12px;border-radius:50px;font-weight:800;">PREMIUM</div>
</nav>

<section class="hero">
<h1 class="amiri" style="color:var(--primary);font-size:3.5rem;">Ø§Ù„Ø³Ù„Ø§Ù… Ø¹Ù„ÙŠÙƒÙ…</h1>
<h1>Your Premium Deen<br>Companion</h1>
<p style="color:var(--text-dim);margin-top:15px;font-size:.9rem;">Ad-free Quran, Prayer Times, Tasbih & more.</p>

<a href="https://github.com/noor7398shah-droid/Quran-App/releases/latest/download/AlMusalimeen_latest.apk"
class="download-btn" id="downloadBtn">
<i data-lucide="download"></i> DOWNLOADED SECURE APK
</a>

<div class="live-count">
ðŸ”¥ Total Downloads: <span id="downloadCount">0</span>
</div>

</section>

<!-- SLIDER + FEATURES + AYAH SAME -->
<!-- (No changes â€” same as your original) -->

<footer>
<h3 style="color:var(--primary);margin-bottom:15px;">User Feedback</h3>
<div id="commentsList"></div>
<p style="margin-top:30px;">Â© 2026 Al Musalmeen â€¢ Built for the Ummah by Noor Ali</p>
</footer>

<!-- ADMIN PANEL (Hidden) -->
<div id="adminPanel">
<h3>Admin Login</h3>
<input type="password" id="adminPass" placeholder="Enter Password">
<br><br>
<button onclick="loginAdmin()">Login</button>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-app.js";
import { getFirestore, doc, getDoc, setDoc, updateDoc, onSnapshot, increment, collection, addDoc, deleteDoc, query, orderBy } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-firestore.js";

const firebaseConfig={
apiKey:"AIzaSyCOiq6WTI-o0pZEZZgW_qmg6lV31X1EtoE",
authDomain:"quran-app-46a14.firebaseapp.com",
projectId:"quran-app-46a14",
storageBucket:"quran-app-46a14.firebasestorage.app",
messagingSenderId:"78951826879",
appId:"1:78951826879:web:9c82b02b121915e6754d0a"
};

const app=initializeApp(firebaseConfig);
const db=getFirestore(app);

/* DOWNLOAD COUNTER */
const counterRef=doc(db,"appData","downloads");

async function initCounter(){
const snap=await getDoc(counterRef);
if(!snap.exists()) await setDoc(counterRef,{count:0});
}
initCounter();

onSnapshot(counterRef,(snap)=>{
if(snap.exists()) document.getElementById("downloadCount").innerText=snap.data().count;
});

document.getElementById("downloadBtn").addEventListener("click",async()=>{
await updateDoc(counterRef,{count:increment(1)});
});

/* COMMENTS */
const commentsRef=collection(db,"comments");

const q=query(commentsRef,orderBy("time"));
onSnapshot(q,(snapshot)=>{
const list=document.getElementById("commentsList");
list.innerHTML="";
snapshot.forEach((docSnap)=>{
const data=docSnap.data();
const div=document.createElement("div");
div.className="comment";
div.innerHTML="<strong>"+data.name+"</strong><br>"+data.text;

if(window.isAdmin){
const del=document.createElement("div");
del.className="delete-btn";
del.style.display="block";
del.innerText="Delete";
del.onclick=async()=>{await deleteDoc(doc(db,"comments",docSnap.id));};
div.appendChild(del);
}

list.appendChild(div);
});
});

/* ADMIN HIDDEN */
const ADMIN_PASSWORD="786786";
window.isAdmin=false;

window.loginAdmin=function(){
if(document.getElementById("adminPass").value===ADMIN_PASSWORD){
window.isAdmin=true;
document.getElementById("adminPanel").style.display="none";
alert("Admin Mode Activated");
}else alert("Wrong Password");
};

/* /admin OPEN */
if(window.location.pathname==="/admin"){
document.getElementById("adminPanel").style.display="block";
}
</script>

<script>lucide.createIcons();</script>
</body>
</html>
